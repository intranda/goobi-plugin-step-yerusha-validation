<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:composite="http://java.sun.com/jsf/composite"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites">

    <link
        rel="stylesheet"
        href="../../../css/excel_import.css"></link>

    <h:form>

        <div class="box box-color lightgrey box-bordered">

            <div class="box-title">
                <h3>
                    <i class="fa fa-puzzle-piece"></i>
                    <h:outputText value="#{msgs.plugin}: #{msgs.plugin_yerushaExcelImport_validationResults}" />
                </h3>

                <div class="actions">
                    <h:commandLink
                        styleClass="btn btn-mini"
                        action="#{AktuelleSchritteForm.myPlugin.reload}"
                        title="#{msgs.plugin_yerushaExcelImport_executeValidationAgain}">
                        <i class="fa fa-refresh" />
                    </h:commandLink>
                </div>
            </div>

            <div class="box-content nopadding">

				<ui:fragment rendered="#{AktuelleSchritteForm.myPlugin.validationErrors.size() eq 0}">
					<div style="padding:20px;text-align:center;">
						<h:outputText styleClass="alert alert-info"
							value="#{msgs.plugin_yerushaExcelImport_noValidationIssues}" />
					</div>
				</ui:fragment>

              	<ui:fragment rendered="#{AktuelleSchritteForm.myPlugin.validationErrors.size() gt 0}">
	                <table
	                    class="table table-hover table-nomargin dataTable table-bordered responsive">
	                    <ui:repeat
	                        var="metadatum"
	                        value="#{AktuelleSchritteForm.myPlugin.validationErrors}">
	
	                        <tr>
	                            <td class="tableColumnOverflow width200">
	
	                                <h:outputText
	                                    styleClass="font-danger"
	                                    value="#{metadatum.headername}:">
	                                    <f:passThroughAttribute
	                                        name="data-trigger"
	                                        value="hover" />
	                                    <f:passThroughAttribute
	                                        name="data-container"
	                                        value="body" />
	                                    <f:passThroughAttribute
	                                        name="data-toggle"
	                                        value="popover" />
	                                    <f:passThroughAttribute
	                                        name="data-placement"
	                                        value="top" />
	                                    <f:passThroughAttribute
	                                        name="data-html"
	                                        value="true" />
	                                    <f:passThroughAttribute
	                                        name="data-content"
	                                        value="&lt;b class='font-status-error'&gt;#{msgs.plugin_yerushaExcelImport_validationError}:&lt;/b&gt;&lt;br/&gt;#{metadatum.errorMessagesAsHtml}" />
	                                </h:outputText>
	
	                            </td>
	                            <td>
	
	                                <h:outputText
	                                    styleClass="font-danger"
	                                    value="#{metadatum.value==''?'- empty field -':metadatum.value}">
	                                    <f:passThroughAttribute
	                                        name="data-trigger"
	                                        value="hover" />
	                                    <f:passThroughAttribute
	                                        name="data-container"
	                                        value="body" />
	                                    <f:passThroughAttribute
	                                        name="data-toggle"
	                                        value="popover" />
	                                    <f:passThroughAttribute
	                                        name="data-placement"
	                                        value="top" />
	                                    <f:passThroughAttribute
	                                        name="data-html"
	                                        value="true" />
	                                    <f:passThroughAttribute
	                                        name="data-content"
	                                        value="&lt;b class='font-status-error'&gt;#{msgs.plugin_yerushaExcelImport_validationError}:&lt;/b&gt;&lt;br/&gt;#{metadatum.errorMessagesAsHtml}" />
	                                </h:outputText>
	
	                            </td>
	                        </tr>
	
	                    </ui:repeat>
	                </table>
                </ui:fragment>
            </div>
        </div>
    </h:form>

</ui:composition>